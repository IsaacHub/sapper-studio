<div ref:editor>

</div>

<style>
	ref:editor {
		width: 100%;
		height: 100%;
	}
</style>

<script>
	// import * as path from 'path';

	// function uriFromPath(_path) {
	// 	var pathName = path.resolve(_path).replace(/\\/g, '/');
	// 	if (pathName.length > 0 && pathName.charAt(0) !== '/') {
	// 		pathName = '/' + pathName;
	// 	}
	// 	return encodeURI('file://' + pathName);
	// }

	// // workaround monaco-css not understanding the environment
	// self.module = undefined;

	// // workaround monaco-typescript not understanding the environment
	// self.process.browser = true;

	// amdRequire.config({
	// 	baseUrl: uriFromPath(path.join(__dirname, '../node_modules/monaco-editor/min'))
	// });

	export default {
		oncreate() {

		},

		methods: {
			async createEditor() {
				const monaco = await import('monaco-editor/esm/vs/editor/editor.main.js');

				monaco.editor.create(this.refs.editor, {
					value: [
						'function x() {',
						'\tconsole.log("Hello world!");',
						'}'
					].join('\n'),
					language: 'javascript'
				});
			}
		}
	};
</script>